Test: history.back() at beginning should be no-op
history.length after back() at start: 1
Test 1: PASS
Test: history.go(-999) should be no-op
history.length after go(-999): 1
Test 2: PASS
Test: history.forward() at end should be no-op
history.length after forward() at end: 1
Test 3: PASS
Test: history.go(999) should be no-op
history.length after go(999): 1
Test 4: PASS
Test: pushState with non-serializable data should gracefully handle errors
pushState with circular reference completed
Test 5: PASS
Test: replaceState with non-serializable data should gracefully handle errors
replaceState with function completed
Test 6: PASS
Test: pushState with fragment should work correctly
history.length after pushState with fragment: 2
current fragment: #anchor1
Test 7: PASS
Test: state should be preserved across back/forward
pushed state with value: 42
state after push: {"value":42}
Test 8: PASS
Test: history.go(0) should trigger reload (if allowed)
history.go(0) called (reload)
Test 9: PASS
Test: history.length consistency
history.length before push: 1
history.length after push: 2
Increase is 1: true
Test 10: PASS
