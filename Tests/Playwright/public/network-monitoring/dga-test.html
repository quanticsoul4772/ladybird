<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DGA Detection Test</title>
</head>
<body>
    <h1>DGA (Domain Generation Algorithm) Detection Test</h1>
    <p>This page makes requests to domains that appear to be generated by an algorithm.</p>
    <div id="status">Initiating DGA-like requests...</div>
    <ul id="request-log"></ul>

    <script>
        // Simulate DGA by making requests to algorithmically-generated domains
        const dgaDomains = [
            'asdfjkl123xyz.com',
            'qwerty456abc.net',
            'zxcvbn789def.org',
            'poiuyt321ghi.com',
            'mnbvcx654jkl.net',
            'lkjhgf987mno.com'
        ];

        const log = document.getElementById('request-log');
        const status = document.getElementById('status');

        let requestCount = 0;

        dgaDomains.forEach((domain, index) => {
            setTimeout(() => {
                // Attempt to fetch from DGA-like domain
                fetch(`http://${domain}/beacon`, { mode: 'no-cors' })
                    .then(() => {
                        const li = document.createElement('li');
                        li.textContent = `Request sent to ${domain}`;
                        log.appendChild(li);
                        requestCount++;
                    })
                    .catch((error) => {
                        const li = document.createElement('li');
                        li.textContent = `Request failed to ${domain}: ${error.message}`;
                        log.appendChild(li);
                        requestCount++;
                    })
                    .finally(() => {
                        if (requestCount === dgaDomains.length) {
                            status.textContent = `Completed ${requestCount} DGA-like requests`;
                        }
                    });
            }, index * 500); // Stagger requests
        });
    </script>
</body>
</html>
